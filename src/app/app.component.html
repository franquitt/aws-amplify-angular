<h1>Amplify remember device PoC</h1>

<p>
  Use the below buttons to try to login with MFA & remember device
  <br /><br />
  SECRET TOPT MFA CODE: <br />
  <b>{{secretCode}}</b>
</p>

<div>
  <form>
    Username
    <input type="text" [(ngModel)]="username" name="username">
    <br>
    <br>
    
    Password
    <input type="text" [(ngModel)]="password" name="password">
    <br>
    <br>

    <ng-container *ngIf="showMfaFlow">
      MFA Pin code
      <input type="text" [(ngModel)]="mfaPin" name="mfaPin">
      <br>
      <br>

      Remember device?
      <input type="checkbox" [(ngModel)]="rememberDevice" name="rememberDevice">
      <br>
      <br>
    </ng-container>
    <button (click)="login()">Login</button>
    <button (click)="logout()" *ngIf="mfaUser">Logout</button>
  </form>
</div>

<br>
<br>

<h2>Remembered Devices</h2>
<button (click)="getDevices()">Refresh remembered devices</button>

<button (click)="deleteDevice()">Delete this remembered device</button>
<div>
  <table id="devices">
    <thead>
      <td>
        Id
      </td>
      <td>
        Name
      </td>
      <td>
        Delete
      </td>
    </thead>
    <tbody>
      <tr *ngFor="let device of mfaDevices">
        <td>{{device.id}}</td>
        <td>{{device.name}}</td>
      </tr>
    </tbody>
  </table>
</div>


<br>
<br>

<br>
<br>